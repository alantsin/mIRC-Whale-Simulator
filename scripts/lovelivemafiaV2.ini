[script]
n0=// load all variables to default values
n1=on *:load:{
n2=  resetValues
n3=}
n4=
n5=// alias to reset all values to default
n6=alias resetValues {
n7=  set %mafiaChannel #umidah
n8=  set %mafiaAdmin umidah
n9=  set %mafiaRunning $false
n10=  set %mafiaJoinTime $false
n11=  set %mafiaRegPlayers
n12=  set %mafiaStartMessage $false
n13=  set %mafiaTimer $false
n14=  set %mafiaPlayers
n15=
n16=  unset %honoka
n17=  unset %rin
n18=  unset %kotori
n19=  unset %eli
n20=  unset %maki
n21=  unset %umi
n22=  unset %hanayo
n23=  unset %nico 
n24=  unset %nozomi
n25=
n26=  unset %honokaAction
n27=  unset %rinAction
n28=  unset %umiAction
n29=  unset %nicoAction
n30=
n31=  unset %mafiaNumNight 0
n32=  unset %honokaHonk
n33=  unset %rinNyaavigate
n34=  unset %kotoriFollow
n35=  unset %eliAssign
n36=  unset %makiHelp
n37=  unset %makiLastHelped
n38=  unset %umiShoot
n39=  unset %hanayoInspect
n40=  unset %nicoNi1
n41=  unset %nicoNi2
n42=  unset %nicoNyaavigate
n43=  unset %nicoInspect
n44=  unset %nozomiWashi
n45=  unset %nozomiLastWashi
n46=  unset %presidentName
n47=
n48=  unset %dayVoting
n49=  unset %dayElect
n50=  unset %nightAction
n51=  unset %mafiaPlayersMoved
n52=  unset %honokaDecision
n53=
n54=  unset %mafiaPlayersElected
n55=  set %honokaVotes 0
n56=  set %rinVotes 0
n57=  set %kotoriVotes 0
n58=  set %eliVotes 0
n59=  set %makiVotes 0
n60=  set %umiVotes 0
n61=  set %hanayoVotes 0
n62=  set %nicoVotes 0
n63=  set %nozomiVotes 0
n64=  set %electMajority 0
n65=
n66=  unset %mafiaPlayersVoted
n67=  set %voteYes 0
n68=  set %voteNo 0
n69=
n70=  unset %voteForName
n71=  timers off
n72=
n73=}
n74=
n75=// start game
n76=on *:TEXT:!startmafia:%mafiaChannel:{
n77=  if ($nick != %mafiaAdmin) {
n78=    scid -at1 msg %mafiaChannel [Idol Mafia] Only %mafiaAdmin can start a game
n79=  }
n80=  else if (%mafiaRunning == $true) {
n81=    timerAlreadyRunning 1 1 scid -at1 msg #_whitericebot_1448174506973 .w $nick [Idol Mafia] A game is already running.
n82=  }
n83=  else {
n84=    startMafiaGame
n85=  }
n86=}
n87=
n88=// end game
n89=on *:TEXT:!endmafia:%mafiaChannel:{
n90=  if (%mafiaRunning) {
n91=    if ($nick != %mafiaAdmin) {
n92=      scid -at1 msg %mafiaChannel [Idol Mafia] Only %mafiaAdmin can end the game early.
n93=    }
n94=    else {
n95=      resetValues
n96=      scid -at1 msg %mafiaChannel [Idol Mafia] Game ended by Admin.
n97=      halt
n98=    }
n99=  }
n100=}
n101=
n102=// alias to start game
n103=alias startMafiaGame {
n104=  set %mafiaRunning $true
n105=  set %mafiaJoinTime $true
n106=  scid -at1 msg %mafiaChannel [Idol Mafia] A new game has started! Type "!join" within the next minute in the chat to join.
n107=  timerNotEnoughPlayers 1 60 notEnoughPlayers
n108=}
n109=
n110=// alias to end game if not enough players
n111=alias notEnoughPlayers {
n112=  resetValues
n113=  scid -at1 msg %mafiaChannel [Idol Mafia] Not enough players joined. Ending game.
n114=  halt
n115=}
n116=
n117=// join game
n118=
n119=on *:TEXT:!join:%mafiaChannel:{
n120=  if (%mafiaRunning) {
n121=    if (%mafiaJoinTime == $false) {
n122=      return
n123=    }
n124=    else {
n125=      addPlayer $nick
n126=      checkToStart
n127=    }
n128=  }
n129=}
n130=
n131=// alias to add player
n132=
n133=alias addPlayer {
n134=  if (%mafiaRunning) {
n135=    if ($istok(%mafiaRegPlayers, $1, 44)) {
n136=      timer 1 1 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] You have already joined the game!
n137=    }
n138=    else if ($numtok(%mafiaRegPlayers, 44) >= 9) {
n139=      timer 1 1 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] Sorry, the current game is full.
n140=    }
n141=    else {
n142=      set %mafiaRegPlayers $addtok(%mafiaRegPlayers, $1, 44)
n143=      timer 1 1 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] You have joined as player $numtok(%mafiaRegPlayers, 44)
n144=      checkToStart
n145=    }
n146=  }
n147=}
n148=
n149=//alias to check for more than 4 players
n150=alias checkToStart {
n151=  if (%mafiaRunning) {
n152=    if ($numtok(%mafiaRegPlayers, 44) < 5) {
n153=      set %mafiaTimer $false
n154=      timerNotEnoughPlayers 1 60 notEnoughPlayers
n155=    }
n156=    else if (%mafiaTimer == $true) {
n157=      scid -at1 timerStartGame 1 10 startGame
n158=    }
n159=    else {
n160=      if (%mafiaStartMessage == $false) {
n161=        scid -at1 msg %mafiaChannel [Idol Mafia] 5 or more players have joined. The game will start 10 seconds after all players are done joining...
n162=        timerNotEnoughPlayers off
n163=        set %mafiaStartMessage == $true
n164=        set %mafiaTimer $true
n165=        timerStartGame 1 10 startGame
n166=      }
n167=    }
n168=  }
n169=}
n170=
n171=// alias to really start game
n172=
n173=alias startGame {
n174=  if (%mafiaRunning) {
n175=    set %mafiaJoinTime $false
n176=    scid -at1 msg %mafiaChannel [Idol Mafia] $numtok(%mafiaRegPlayers, 44) have joined total.
n177=    set %mafiaPlayers %mafiaRegPlayers
n178=    role $numtok(%mafiaRegPlayers, 44)
n179=    scid -at1 msg %mafiaChannel [Idol Mafia] Your roles will be whispered to you shortly, keep it a secret! The game will begin in 15 seconds...
n180=    timerStartFirstNight 1 15 night
n181=  }
n182=}
n183=
n184=
n185=// alias to initialize test roles
n186=alias testRoles {
n187=  var %i = 1
n188=  while (%i <= $1) {
n189=    var %name = test $+ %i
n190=    set %mafiaRegPlayers $addtok(%mafiaRegPlayers, %name, 44)
n191=    inc %i 
n192=  }
n193=  set %mafiaRunning $true
n194=  set %mafiaPlayers %mafiaRegPlayers
n195=  role $numtok(%mafiaPlayers, 44)
n196=  resetNightValues
n197=  set %mafiaNumNight 1
n198=}
n199=
n200=
n201=// alias to assign roles
n202=
n203=alias role { 
n204=  if (%mafiaRunning) {
n205=    var %i = 1
n206=
n207=    while ($1 >= %i) {
n208=      var %rand = $rand(1, $numtok(%mafiaRegPlayers, 44))
n209=
n210=      if (%i == 1) {
n211=        set %honoka $gettok(%mafiaRegPlayers, %rand, 44)
n212=        set %mafiaRegPlayers $remtok(%mafiaRegPlayers, %honoka, 1, 44)
n213=        set %honokaAction $true
n214=        timerHonokaRole 1 1 scid -at1 msg #_whitericebot_1448174506973 .w %honoka [Idol Mafia] Hello, Honoka, you are the Idol Leader! Whisper to me "!mafiahelp" at night if you don't know what to do.
n215=      }
n216=
n217=      else if (%i == 2) {
n218=        set %rin $gettok(%mafiaRegPlayers, %rand, 44)
n219=        set %mafiaRegPlayers $remtok(%mafiaRegPlayers, %rin, 1, 44)
n220=        set %rinAction $true
n221=        timerRinRole 1 2 scid -at1 msg #_whitericebot_1448174506973 .w %rin [Idol Mafia] Hello, Rin, you are the Neko Idol! Whisper to me "!mafiahelp" at night if you don't know what to do.
n222=      }
n223=
n224=      else if (%i == 3) {
n225=        set %kotori $gettok(%mafiaRegPlayers, %rand, 44)
n226=        set %mafiaRegPlayers $remtok(%mafiaRegPlayers, %kotori, 1, 44)
n227=        timerKotoriRole 1 3 scid -at1 msg #_whitericebot_1448174506973 .w %kotori [Idol Mafia] Hello, Kotori, you are the Cop! Whisper to me "!mafiahelp" at night if you don't know what to do.
n228=      }
n229=
n230=      else if (%i == 4) {
n231=        set %eli $gettok(%mafiaRegPlayers, %rand, 44)
n232=        set %mafiaRegPlayers $remtok(%mafiaRegPlayers, %eli, 1, 44)
n233=        set %presidentName Eli
n234=        timerEliRole 1 4 scid -at1 msg #_whitericebot_1448174506973 .w %eli [Idol Mafia] Hello, Eli, you are the Student Council President! Whisper to me "!mafiahelp" at night if you don't know what to do.
n235=      }
n236=
n237=      else if (%i == 5) {
n238=        set %maki $gettok(%mafiaRegPlayers, %rand, 44)
n239=        set %mafiaRegPlayers $remtok(%mafiaRegPlayers, %maki, 1, 44)
n240=        set %makiLastHelped Nobody
n241=        timerMakiRole 1 5 scid -at1 msg #_whitericebot_1448174506973 .w %maki [Idol Mafia] Hello, Maki, you are the Tutor Doctor! Whisper to me "!mafiahelp" at night if you don't know what to do.
n242=      }
n243=
n244=      else if (%i == 6) {
n245=        set %umi $gettok(%mafiaRegPlayers, %rand, 44)
n246=        set %mafiaRegPlayers $remtok(%mafiaRegPlayers, %umi, 1, 44)
n247=        set %umiAction $true
n248=        timerUmiRole 1 6 scid -at1 msg #_whitericebot_1448174506973 .w %umi [Idol Mafia] Hello, Umi, you are the Student Council Archer! Whisper to me "!mafiahelp" at night if you don't know what to do.
n249=        timerTellEliUmi 1 7 scid -at1 msg #_whitericebot_1448174506973 .w %eli [Idol Mafia] %umi is Umi, the Student Council Archer you hired. Umi doesn't know you are the Student Council President, so how you use this knowledge is up to you.
n250=      }
n251=
n252=      else if (%i == 7) {
n253=        set %hanayo $gettok(%mafiaRegPlayers, %rand, 44)
n254=        set %mafiaRegPlayers $remtok(%mafiaRegPlayers, %hanayo, 1, 44)
n255=        timerHanayoRole 1 8 scid -at1 msg #_whitericebot_1448174506973 .w %hanayo [Idol Mafia] Hello, Hanayo, the Detective! Whisper to me "!mafiahelp" at night if you don't know what to do.
n256=        timerTellHanayoKotori 1 9 scid -at1  msg #_whitericebot_1448174506973 .w %hanayo [Idol Mafia] Using your detective skills, you found out that %kotori is Kotori, the Cop that hired you. Kotori doesn't know you are the Detective, so how you use this knowledge is up to you.
n257=      }
n258=
n259=      else if (%i == 8) {
n260=        set %nico $gettok(%mafiaRegPlayers, %rand, 44)
n261=        set %mafiaRegPlayers $remtok(%mafiaRegPlayers, %nico, 1, 44)
n262=        set %nicoAction $true
n263=        timerNicoRole 1 10 scid -at1 msg #_whitericebot_1448174506973 .w %nico [Idol Mafia] Hello, Nico, you are the Universe's Number 1 Idol! Whisper to me "!mafiahelp" at night if you don't know what to do.
n264=      }
n265=
n266=      else if (%i == 9) {
n267=        set %nozomi $gettok(%mafiaRegPlayers, %rand, 44)
n268=        set %mafiaRegPlayers $remtok(%mafiaRegPlayers, %nozomi, 1, 44)
n269=        set %nozomiLastWashi Nobody
n270=        timerNozomiRole 1 11 scid -at1 msg #_whitericebot_1448174506973 .w %nozomi [Idol Mafia] Hello, Nozomi! Whisper to me "!mafiahelp" at night if you don't know what to do.
n271=        timerTellEliNozomi 1 12 scid -at1 msg #_whitericebot_1448174506973 .w %eli [Idol Mafia] %nozomi is Nozomi, the Student Council Vice President. Nozomi doesn't know you are the Student Council President, so how you use this knowledge is up to you.
n272=      }
n273=
n274=      inc %i
n275=    }
n276=  }
n277=}
n278=
n279=// alias for resetting values if AFK
n280=alias resetNightValuesForAFK {
n281=  if (%mafiaRunning) {
n282=    set %nightAction $true
n283=    set %dayElect $false
n284=    set %dayVoting $false
n285=
n286=    if (%honoka != $null) {
n287=      set %honokaHonk AFK
n288=    }
n289=    if (%rin != $null) {
n290=      set %rinNyaavigate AFK
n291=    }
n292=    if (%kotori != $null) {
n293=      set %kotoriFollow AFK
n294=    }
n295=    if (%eli != $null) {
n296=      set %eliAssign AFK
n297=    }
n298=    if (%maki != $null) {
n299=      set %makiHelp AFK
n300=    }
n301=    if (%umi != $null) {
n302=      set %umiShoot AFK
n303=    }
n304=    if (%hanayo != $null) {
n305=      set %hanayoInspect AFK
n306=    }
n307=    if (%nico != $null) {
n308=      set %nicoNi1 AFK
n309=      set %nicoNi2 AFK
n310=      set %nicoNyaavigate $false
n311=      set %nicoInspect $false
n312=    }
n313=    if (%nozomi != $null) {
n314=      set %nozomiWashi AFK
n315=    }
n316=
n317=    set %mafiaPlayersMoved %mafiaPlayers
n318=
n319=    scid -at1 msg %mafiaChannel [Idol Mafia] Welcome to the $ord(%mafiaNumNight) night of Idol Mafia. Whisper to me your action for the night, or whisper "!mafiahelp" for instructions. You have 3 minutes before morning comes. If you don't make a move by then, you will be removed from the game.
n320=    timer1MinuteWarning 1 120 1MinuteWarning
n321=    timer30SecondWarning 1 150 30SecondWarning
n322=    timerRemoveAFK 1 180 removeAFKPlayers
n323=  }
n324=}
n325=
n326=// alias for resetting values each night
n327=alias resetNightValues {
n328=  if (%mafiaRunning) {
n329=    set %nightAction $true
n330=    set %dayElect $false
n331=    set %dayVoting $false
n332=
n333=    if (%honokaHonk) {
n334=      set %honokaAction $false
n335=      unset %honokaHonk
n336=    }
n337=
n338=    if (%rinNyaavigate) {
n339=      set %rinAction $false
n340=      unset %rinNyaavigate
n341=    }
n342=
n343=    if (%umiShoot != $null) {
n344=      if (%umiShoot != AFK) {
n345=        set %umiAction $false
n346=        unset %umiShoot
n347=      }
n348=    }
n349=
n350=    if (%honoka != $null) {
n351=      set %honokaHonk AFK
n352=    }
n353=    if (%rin != $null) {
n354=      set %rinNyaavigate AFK
n355=    }
n356=    if (%kotori != $null) {
n357=      set %kotoriFollow AFK
n358=    }
n359=    if (%eli != $null) {
n360=      set %eliAssign AFK
n361=    }
n362=    if (%maki != $null) {
n363=      set %makiHelp AFK
n364=      unset %makiSuccess
n365=    }
n366=    if (%umi != $null) {
n367=      set %umiShoot AFK
n368=    }
n369=    if (%hanayo != $null) {
n370=      set %hanayoInspect AFK
n371=    }
n372=    if (%nico != $null) {
n373=      set %nicoNi1 AFK
n374=      set %nicoNi2 AFK
n375=      set %nicoNyaavigate $false
n376=      set %nicoInspect $false
n377=    }
n378=    if (%nozomi != $null) {
n379=      set %nozomiWashi AFK
n380=    }
n381=
n382=    set %mafiaPlayersMoved %mafiaPlayers
n383=  }    
n384=}
n385=
n386=// alias for each night
n387=alias night {
n388=  if (%mafiaRunning) {
n389=    inc %mafiaNumNight
n390=
n391=    resetNightValues
n392=
n393=    scid -at1 msg %mafiaChannel [Idol Mafia] Welcome to the $ord(%mafiaNumNight) night of Idol Mafia. Whisper to me your action for the night, or whisper "!mafiahelp" for instructions. You have 3 minutes before morning comes. If you don't make a move by then, you will be removed from the game.
n394=    timer1MinuteWarning 1 120 1MinuteWarning
n395=    timer30SecondWarning 1 150 30SecondWarning
n396=    timerRemoveAFK 1 180 removeAFKPlayers
n397=  }
n398=}
n399=
n400=// alias for 1 minute warning
n401=alias 1MinuteWarning {
n402=  if (%mafiaRunning) {
n403=    var %i = 1
n404=    while (%i <= $numtok(%mafiaPlayersMoved, 44)) {
n405=      var %name = $gettok(%mafiaPlayersMoved, %i, 44)
n406=      scid -at1 timer 1 %i msg #_whitericebot_1448174506973 .w %name [Idol Mafia] You have 1 minute left to make a move!
n407=      inc %i
n408=    }
n409=  }
n410=}
n411=
n412=// alias for 30 second warning
n413=alias 30SecondWarning {
n414=  if (%mafiaRunning) {
n415=    var %i = 1
n416=    while (%i <= $numtok(%mafiaPlayersMoved, 44)) {
n417=      var %name = $gettok(%mafiaPlayersMoved, %i, 44)
n418=      scid -at1 timer 1 %i msg #_whitericebot_1448174506973 .w %name [Idol Mafia] You have 30 seconds left to make a move or you will be removed from the game!
n419=      inc %i
n420=    }
n421=  }
n422=}
n423=
n424=// alias to remove AFK Players
n425=alias removeAFKPlayers {
n426=  if (%mafiaRunning) {
n427=    if (%honoka != $null) {
n428=      if (%honokaHonk == AFK) {
n429=        scid -at1 msg %mafiaChannel [Idol Mafia] %honoka did not respond in time and was removed from the game.
n430=        %mafiaPlayers = $remtok(%mafiaPlayers, %honoka, 44)
n431=        unset %honoka
n432=        unset %honokaAction
n433=        unset %honokaHonk
n434=        checkEndGameCouncil
n435=      }
n436=    }
n437=    if (%rin != $null) {
n438=      if (%rinNyaavigate == AFK) {
n439=        scid -at1 msg %mafiaChannel [Idol Mafia] %rin did not respond in time and was removed from the game.
n440=        %mafiaPlayers = $remtok(%mafiaPlayers, %rin, 44)
n441=        unset %rin
n442=        unset %rinAction
n443=        unset %rinNyaavigate
n444=        checkEndGameCouncil
n445=      }
n446=    }
n447=    if (%kotori != $null) {
n448=      if (%kotoriFollow == AFK) {
n449=        scid -at1 msg %mafiaChannel [Idol Mafia] %kotori did not respond in time and was removed from the game.
n450=        %mafiaPlayers = $remtok(%mafiaPlayers, %kotori, 44)
n451=        unset %kotori
n452=        unset %kotoriFollow
n453=        checkEndGameCouncil
n454=      }
n455=    }
n456=    if (%eli != $null) {
n457=      if (%eliAssign == AFK) {
n458=        scid -at1 msg %mafiaChannel [Idol Mafia] %eli did not respond in time and was removed from the game.
n459=        %mafiaPlayers = $remtok(%mafiaPlayers, %eli, 44)
n460=        unset %eliAssign
n461=        newPresidentNextInLine
n462=      }
n463=    }
n464=    if (%maki != $null) {
n465=      if (%makiHelp == AFK) {
n466=        scid -at1 msg %mafiaChannel [Idol Mafia] %maki did not respond in time and was removed from the game.
n467=        %mafiaPlayers = $remtok(%mafiaPlayers, %maki, 44)
n468=        unset %maki
n469=        unset %makiHelp
n470=        unset %makiLastHelped
n471=        checkEndGameCouncil
n472=      }
n473=    }
n474=    if (%umi != $null) {
n475=      if (%umiShoot == AFK) {
n476=        scid -at1 msg %mafiaChannel [Idol Mafia] %umi did not respond in time and was removed from the game.
n477=        %mafiaPlayers = $remtok(%mafiaPlayers, %umi, 44)
n478=        unset %umi
n479=        unset %umiShoot
n480=      }
n481=    }
n482=    if (%hanayo != $null) {
n483=      if (%hanayoInspect == AFK) {
n484=        scid -at1 msg %mafiaChannel [Idol Mafia] %hanayo did not respond in time and was removed from the game.
n485=        %mafiaPlayers = $remtok(%mafiaPlayers, %hanayo, 44)
n486=        unset %hanayo
n487=        unset %hanayoInspect
n488=        checkEndGameCouncil
n489=      }
n490=    }
n491=    if (%nico != $null) {
n492=      if (%nicoNi1 == AFK) {
n493=        scid -at1 msg %mafiaChannel [Idol Mafia] %nico did not respond in time and was removed from the game.
n494=        %mafiaPlayers = $remtok(%mafiaPlayers, %nico, 44)
n495=        unset %nico
n496=        unset %nicoNi1
n497=        unset %nicoNi2
n498=        checkEndGameCouncil
n499=      }
n500=    }
n501=    if (%nozomi != $null) {
n502=      if (%nozomiWashi == AFK) {
n503=        scid -at1 msg %mafiaChannel [Idol Mafia] %nozomi did not respond in time and was removed from the game.
n504=        %mafiaPlayers = $remtok(%mafiaPlayers, %nozomi, 44)
n505=        unset %nozomi
n506=        unset %nozomiWashi
n507=      }
n508=    }
n509=    scid -at1 msg %mafiaChannel [Idol Mafia] AFK players have been removed. To the players that remain, please redo your actions.
n510=    var %i = 1
n511=    while (%i <= $numtok(%mafiaPlayers, 44)) {
n512=      var %name = $gettok(%mafiaPlayers, %i, 44)
n513=      timerInformRedo 1 %i scid -at1 msg #_whitericebot_1448174506973 .w %name [Idol Mafia] AFK players were remoevd. Please redo your action for the night.
n514=      inc %i
n515=    }
n516=  }
n517=  resetNightValuesForAFK
n518=}
n519=
n520=// alias to assign new President if Umi Shoots Eli
n521=alias newPresidentUmiShoot {
n522=  if (%mafiaRunning) {
n523=    timerNewPresident 1 1 scid -at1 msg #_whitericebot_1448174506973 .w %umi [Idol Mafia] You shot Eli, removing her from the game. Therefore, you are now the new student council president!
n524=    set %eli %umi
n525=    set %presidentName Umi
n526=    unset %umi
n527=  }
n528=}
n529=
n530=// alias to assign new President if Eli is removed, otherwise, end game if not possible
n531=alias newPresidentNextInLine {
n532=  if (%mafiaRunning) {
n533=
n534=    else if (%nozomi != $null) {
n535=      timerNewPresident 1 1 scid -at1 msg #_whitericebot_1448174506973 .w %nozomi [Idol Mafia] %presidentName is out of the game! As vice president, you are now the new student council president!
n536=      set %eli %nozomi
n537=      set %presidentName Nozomi
n538=      unset %nozomi
n539=    }
n540=    
n541=    else if (%umi != $null) {
n542=      timerNewPresident 1 1 scid -at1 msg #_whitericebot_1448174506973 .w %umi [Idol Mafia] %presidentName is out of the game! As you are the only remaining member of the student council, you are now the new student council president!
n543=      set %eli %umi
n544=      set %presidentName Umi
n545=      unset %umi
n546=    }
n547=  
n548=    else {
n549=      endGameIdols
n550=    }
n551=  }
n552=}
n553=
n554=// alias to check if Council wins
n555=alias checkEndGameCouncil {
n556=  if (%mafiaRunning) {
n557=    if ($numtok(%mafiaPlayers, 44) <= 2) {
n558=      endGameCouncil
n559=    }
n560=    else if (%honoka != $null) {
n561=    }
n562=    else if (%rin != $null) {
n563=    }
n564=    else if (%kotori != $null) {
n565=    }
n566=    else if (%maki != %null) {
n567=    }
n568=    else if (%hanayo != %null) {
n569=    }
n570=    else if (%nico != %null) {
n571=    }
n572=    else {
n573=      endGameCouncil
n574=    }
n575=  }
n576=}
n577=
n578=// alias to end game and declare Council win
n579=alias endGameCouncil {
n580=  if (%mafiaRunning) {
n581=    timerEndGame 1 5 scid -at1 msg %mafiaChannel [Idol Mafia] The game is over! Team Student Council wins! The winners: %eli %umi %nozomi
n582=    timerResetValues 1 6 resetValues
n583=  }
n584=}
n585=
n586=// alias to end game and declare Idols win
n587=alias endGameIdols {
n588=  if (%mafiaRunning) {
n589=    timerEndGame 1 5 scid -at1 msg %mafiaChannel [Idol Mafia] The game is over! Team Idols wins! The winners: %mafiaPlayers
n590=    timerResetValues 1 6 resetValues
n591=  }
n592=}
n593=
n594=// alias to check if all players are done their action
n595=alias checkAllDone {
n596=  if (%mafiaRunning) {
n597=    if (%mafiaPlayersMoved != $null) {
n598=      return
n599=    }
n600=    else {
n601=      set %nightAction $false
n602=      timer1MinuteWarning off
n603=      timer30SecondWarning off
n604=      timerRemoveAFK off
n605=      nextDay
n606=    }
n607=  }
n608=}
n609=
n610=// alias for what happens during the day.
n611=alias nextDay {
n612=  if (%mafiaRunning) {
n613=    scid -at1 msg %mafiaChannel [Idol Mafia] It is now daytime!
n614=    // process daytime stuff here
n615=    checkActions
n616=    mafiaHanayoResult
n617=  }
n618=}
n619=
n620=// alias for Eli's result
n621=alias mafiaEliResult {
n622=  if (%mafiaRunning) {
n623=    if (%eliAssign == $null) {
n624=      timerEliNobody 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] %presidentName assigned homework to...nobody!
n625=    }
n626=
n627=    else if ((%maki != $null) && (%eliAssign == %makiHelp)) {
n628=      timerMakiHelp 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] %presidentName tried to assigned homework to %eliAssign $+ , but Maki was there to help!
n629=    }
n630=
n631=    else {
n632=      if (%eliAssign == %honoka) {
n633=        timerEliHonoka 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] %presidentName assigned homework to %honoka $+ . She will work on it for the rest of the game!
n634=        %mafiaPlayers = $remtok(%mafiaPlayers, %honoka, 44)
n635=        unset %honoka
n636=      }
n637=      else if (%eliAssign == %rin) {
n638=        if (%rinNyaavigate) {
n639=          timerEliRin 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] %presidentName tried to assign homework to someone, but all she found was a cat!
n640=          timerEliRin2 1 1 scid -at1 msg #_whitericebot_1448174506973 .w %rin [Idol Mafia] %eli tried to assign you homework, but found a cat in your place!
n641=        }
n642=        else {
n643=          timerEliRin 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] %presidentName assigned homework to %rin $+ . She will work on it for the rest of the game!
n644=          mafiaPlayers = $remtok(%mafiaPlayers, %rin, 44)
n645=          unset %rin
n646=        }
n647=      }
n648=      else if (%eliAssign == %kotori) {
n649=        timerEliKotori 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] %presidentName assigned homework to %kotori $+ . She will work on it for the rest of the game!
n650=        %mafiaPlayers = $remtok(%mafiaPlayers, %kotori, 44)
n651=        unset %kotori
n652=      }
n653=      else if (%eliAssign == %maki) {
n654=        timerEliMaki 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] %presidentName assigned homework to %maki $+ . She will work on it for the rest of the game!
n655=        %mafiaPlayers = $remtok(%mafiaPlayers, %maki, 44)
n656=        unset %maki
n657=      }
n658=      else if (%eliAssign == %umi) {
n659=        timerEliUmi 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] %presidentName assigned homework to %umi $+ . She will work on it for the rest of the game!
n660=        %mafiaPlayers = $remtok(%mafiaPlayers, %umi, 44)
n661=        unset %umi
n662=      }
n663=      else if (%eliAssign == %hanayo) {
n664=        timerEliHanayo 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] %presidentName assigned homework to %hanayo $+ . She will work on it for the rest of the game!
n665=        %mafiaPlayers = $remtok(%mafiaPlayers, %hanayo, 44)
n666=        unset %hanayo
n667=      }
n668=      else if (%eliAssign == %nico) {
n669=        if ((%nicoNyaavigate) && (%nicoNi2 == %eli)) {
n670=          timerEliNico 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] %presidentName assigned homework to someone, but all she found was a cat!
n671=          timerEliNico2 1 1 scid -at1 msg #_whitericebot_1448174506973 .w %nico [Idol Mafia] %eli tried to assign you homework, but found a cat in your place!
n672=        }
n673=        else {
n674=          timerEliNico 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] %presidentName assigned homework to %nico $+ . She will work on it for the rest of the game!
n675=          %mafiaPlayers = $remtok(%mafiaPlayers, %nico, 44)
n676=          unset %nico
n677=        }
n678=      }
n679=      else if (%eliAssign == %nozomi) {
n680=        timerEliNozomi 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] %presidentName assigned homework to %nozomi $+ . She will work on it for the rest of the game!
n681=        %mafiaPlayers = $remtok(%mafiaPlayers, %nozomi, 44)
n682=        unset %nozomi
n683=      }
n684=    }
n685=    checkEndGameCouncil
n686=    mafiaUmiResult
n687=  }
n688=}
n689=
n690=// alias for Umi's Result
n691=alias mafiaUmiResult {
n692=  if (%mafiaRunning) {
n693=    if ((%umi != $null) && (%umiShoot != $null)) {
n694=      if (%eliAssign == %umiShoot) {
n695=        timerUmiSameTarget 1 1 scid -at1 msg #_whitericebot_1448174506973 .w %umi [Idol Mafia] %presidentName got to your target first, so you decide to save your arrow for another time.
n696=        set %umiAction $true
n697=      }
n698=      else {
n699=        if ((%maki != $null) && (%umiShoot == %makiHelp)) {
n700=          timerMakiHelp 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] Umi tried to Love Arrow Shoot %umiShoot $+ , but Maki was there to help!
n701=        }
n702=        else if (%umiShoot == %honoka) {
n703=          timerUmiHonoka 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] Umi used her Love Arrow Shoot on %honoka $+ . %honoka is immobilized with love for doing homework and will work on it for the rest of the game!
n704=          %mafiaPlayers = $remtok(%mafiaPlayers, %honoka, 44)
n705=          unset %honoka
n706=        }
n707=        else if (%umiShoot == %rin) {
n708=          if (%rinNyaavigate) {
n709=            timerUmiRin 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] Umi tried to Love Arrow Shoot someone $+ , but all she found was a cat!
n710=            timerUmiRin2 1 1 scid -at1 msg #_whitericebot_1448174506973 .w %rin [Idol Mafia] %umi tried to Love Arrow Shoot you, but found a cat in your place!
n711=            set %umiAction $true
n712=            timerUmiRin3 1 2 scid -at1 msg #_whitericebot_1448174506973 .w %umi [Idol Mafia] Your arrow has no effect on animals so you save it for another time.
n713=          }
n714=          else {
n715=            timerUmiRin 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] Umi used her Love Arrow Shoot on %rin $+ . %rin is immobilized with love for doing homework and will work on it for the rest of the game!
n716=            mafiaPlayers = $remtok(%mafiaPlayers, %rin, 44)
n717=            unset %rin
n718=          }
n719=        }
n720=        else if (%umiShoot == %kotori) {
n721=          timerUmiKotori 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] Umi used her Love Arrow Shoot on %kotori $+ . %kotori is immobilized with love for doing homework and will work on it for the rest of the game!
n722=          %mafiaPlayers = $remtok(%mafiaPlayers, %kotori, 44)
n723=          unset %kotori
n724=        }
n725=        else if (%umiShoot == %eli) {
n726=          timerUmiEli 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] Umi used her Love Arrow Shoot on %eli $+ . %eli is immobilized with love for doing homework and will work on it for the rest of the game!
n727=          %mafiaPlayers = $remtok(%mafiaPlayers, %eli, 44)
n728=          newPresidentUmiShoot
n729=        }
n730=        else if (%umiShoot == %maki) {
n731=          timerUmiMaki 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] Umi used her Love Arrow Shoot on %maki $+ . %maki is immobilized with love for doing homework and will work on it for the rest of the game!
n732=          %mafiaPlayers = $remtok(%mafiaPlayers, %maki, 44)
n733=          unset %maki
n734=        }
n735=        else if (%umiShoot == %hanayo) {
n736=          timerUmiHanayo 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] Umi used her Love Arrow Shoot on %hanayo $+ . %hanayo is immobilized with love for doing homework and will work on it for the rest of the game!
n737=          %mafiaPlayers = $remtok(%mafiaPlayers, %hanayo, 44)
n738=          unset %hanayo
n739=        }
n740=        else if (%umiShoot == %nico) {
n741=          if ((%nicoNyaavigate) && (%nicoNi2 == %umi)) {
n742=            timerUmiNico 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] Umi tried to Love Arrow Shoot someone, but all she found was a cat!
n743=            timerUmiNico2 1 1 scid -at1 msg #_whitericebot_1448174506973 .w %nico [Idol Mafia] %umi tried to Love Arrow Shoot you, but found a cat in your place!
n744=            set %umiAction $true
n745=            timerUmiNico3 1 2 scid -at1 msg #_whitericebot_1448174506973 .w %umi [Idol Mafia] Your arrow has no effect on animals so you save it for another time.
n746=          }
n747=          else {
n748=            timerUmiNico 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] Umi used her Love Arrow Shoot on %nico $+ . %nico is immobilized with love for doing homework and will work on it for the rest of the game!
n749=            %mafiaPlayers = $remtok(%mafiaPlayers, %nico, 44)
n750=            unset %nico
n751=          }
n752=        }
n753=        else if (%umiShoot == %nozomi) {
n754=          timerEliNozomi 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] Umi used her Love Arrow Shoot on %nozomi $+ . %nozomi is immobilized with love for doing homework and will work on it for the rest of the game!
n755=          %mafiaPlayers = $remtok(%mafiaPlayers, %nozomi, 44)
n756=          unset %nozomi
n757=        }
n758=      }
n759=    }
n760=    checkEndGameCouncil
n761=    mafiaKotoriResult
n762=  }
n763=}
n764=
n765=// alias for Kotori's Result and Maki
n766=alias mafiaKotoriResult {
n767=  if (%mafiaRunning) {
n768=
n769=    if (%kotori != $null) {
n770=      if ((%kotoriFollow == %eli) && (%eliAssign != $null)) {
n771=        timerArrestEli 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] Kotori was following %kotoriFollow so she was able to guilt %presidentName into doing the homework. They will work on it for the rest of the game!
n772=        %mafiaPlayers = $remtok(%mafiaPlayers, %eli, 44)
n773=        newPresidentNextInLine
n774=      }
n775=
n776=      else if ((%kotoriFollow == %umi) && (%umiShoot != $null)) {
n777=        timerArrestUmi 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] Kotori was following %kotoriFollow so she was able to guilt Umi into doing the homework. They will work on it for the rest of the game!
n778=        %mafiaPlayers = $remtok(%mafiaPlayers, %umi, 44)
n779=        unset %umi
n780=      }
n781=
n782=      else if (%kotoriFollow == %eliAssign) {
n783=        timerArrestFail 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] Kotori was following %kotoriFollow tonight, but wasn't around when Eli assigned the homework!
n784=      }
n785=
n786=      else if ((%rin != $null) && (%rinNyaavigate) && (%kotoriFollow == %rin)) {
n787=        scid -at1 msg %mafiaChannel [Idol Mafia] Kotori was following someone, but was distracted by a cat!
n788=        timerArrestRin 1 1 scid -at1 msg #_whitericebot_1448174506973 .w %rin [Idol Mafia] %kotori was following you tonight, but found a cat in your place!
n789=      }
n790=
n791=      else if (%nico != $null) {
n792=        if ((%nicoNyaavigate != $null) && (%nicoNi2 == %kotori)) {
n793=          timerArrestNico 1 1 scid -at1 msg #_whitericebot_1448174506973 .w %nico [Idol Mafia] %kotori was following you tonight, but found a cat in your place!
n794=        }
n795=      }
n796=      else {
n797=        timerArrestFail 1 1 scid -at1 msg %mafiaChannel [Idol Mafia] Kotori was following %kotoriFollow tonight, but they did nothing suspicious!
n798=      }
n799=    }
n800=
n801=    if (%maki != $null) {
n802=      if (%makiHelp == %eliAssign) {
n803=      }
n804=
n805=      else if (%makiHelp == %umiShoot) {
n806=      }
n807=
n808=      else if ((%rin != $null) && (%rinNyaavigate)) {
n809=        scid -at1 msg %mafiaChannel [Idol Mafia] Maki wanted to help someone, but was distracted by a cat!
n810=        timerMakiRin 1 1 scid -at1 msg #_whitericebot_1448174506973 .w %rin [Idol Mafia] %maki wanted to help you tonight, but found a cat in your place!
n811=      }
n812=
n813=      else if (%nico != $null) {
n814=        if ((%nicoNyaavigate != $null) && (%nicoNi2 == %maki)) {
n815=          scid -at1 msg %mafiaChannel [Idol Mafia] Maki wanted to help someone, but was distracted by a cat!
n816=          timerMakiNico 1 1 scid -at1 msg #_whitericebot_1448174506973 .w %nico [Idol Mafia] %maki wanted to help you tonight, but found a cat in your place!
n817=        }
n818=      }
n819=
n820=      else {
n821=        timerMakiFail 1 2 scid -at1 msg %mafiaChannel [Idol Mafia] Maki was too busy helping %makiHelp tonight!
n822=      }
n823=      set %makiLastHelped %makiHelp
n824=    }
n825=
n826=    if (%nozomi != $null) {
n827=      set %nozomiLastWashi %nozomiWashi
n828=    }
n829=
n830=    timerDayElect 1 3 dayElect
n831=  }
n832=}
n833=
n834=// alias for Hanayo's results
n835=alias mafiaHanayoResult {
n836=  if (%mafiaRunning) {
n837=    if (%hanayo != $null) {
n838=      if (%hanayoInspect == %honoka) {
n839=        var %hanayoIdentity = Honoka
n840=      }
n841=      else if (%hanayoInspect == %rin) {
n842=        var %hanayoIdentity = Rin
n843=        if (%rinNyaavigate) {
n844=          scid -at1 timerRinHanayo 1 1 msg #_whitericebot_1448174506973 .w %rin [Idol Mafia] %hanayo inspected you tonight, and found out that you are Rin!
n845=        }
n846=      }
n847=      else if (%hanayoInspect == %kotori) {
n848=        var %hanayoIdentity = Kotori
n849=      }
n850=      else if (%hanayoInspect == %eli) {
n851=        var %hanayoIdentity = %presidentName
n852=      }
n853=      else if (%hanayoInspect == %maki) {
n854=        var %hanayoIdentity = Maki
n855=      }
n856=      else if (%hanayoInspect == %umi) {
n857=        var %hanayoIdentity = Umi
n858=      }
n859=      else if (%hanayoInspect == %nico) {
n860=        var %hanayoIdentity = Nico
n861=      } 
n862=      else if (%hanayoInspect == %nozomi) {
n863=        var %hanayoIdentity = Nozomi
n864=      } 
n865=      scid -at1 timerHanayoInspect 1 1 msg #_whitericebot_1448174506973 .w %hanayo [Idol Mafia] You investigated %hanayoInspect and found out that they are %hanayoIdentity $+ !
n866=      if (%nicoInspect) {
n867=        scid -at1 timerNicoInspect 1 1 msg #_whitericebot_1448174506973 .w %nico [Idol Mafia] You seduced Hanayo into telling you that the identity of %hanayoInspect is %hanayoIdentity $+ !
n868=      }
n869=    }
n870=    mafiaEliResult
n871=  }
n872=}
n873=
n874=// alias for Day time Election
n875=alias dayElect {
n876=  if (%mafiaRunning) {
n877=    if ((%honoka != $null) && (%honokaHonk != $null)) {
n878=      if ($istok(%mafiaPlayers, %honokaHonk, 44)) {
n879=        set %voteForName %honokaHonk
n880=        set %honokaDecision %honokaHonk
n881=        scid -at1 msg %mafiaChannel [Idol Mafia] Honoka honked to get everyone's attention, and the majority decided to elect %voteForName for the daily homework!
n882=        scid -at1 msg %mafiaChannel [Idol Mafia] %voteForName has 1 minute to convince you why you shouldn't vote for her.
n883=        timerStartVoting 1 60 startVoting
n884=      }
n885=      else {
n886=        scid -at1 msg %mafiaChannel [Idol Mafia] Honoka honked to get everyone's attention, but her candidate is already busy with homework!
n887=        regularElect
n888=      }
n889=    }
n890=    else {
n891=      regularElect
n892=    }
n893=  }
n894=}
n895=
n896=alias regularElect {
n897=  set %dayElect $true
n898=  set %mafiaPlayersElected %mafiaPlayers
n899=
n900=  if (%nozomiWashi != $null) {
n901=    set %mafiaPlayersElected $remtok(%mafiaPlayersElected, %nozomiWashi, 44)
n902=    scid -at1 msg %mafiaChannel [Idol Mafia] %nozomiWashi had a wild night with Nozomi, so they are in no condition to take part in today's election process!
n903=  }    
n904=
n905=  set %honokaVotes 0
n906=  set %rinVotes 0
n907=  set %kotoriVotes 0
n908=  set %eliVotes 0
n909=  set %makiVotes 0
n910=  set %umiVotes 0
n911=  set %hanayoVotes 0
n912=  set %nicoVotes 0
n913=  set %nozomiVotes 0
n914=
n915=  set %dayElect $true
n916=  scid -at1 msg %mafiaChannel [Idol Mafia] It is now time to elect who will do the daily homework. Type "!elect <username>" without the <> in the chat. You cannot change your decision later, so pick wisely! In 3 minutes, or when a majority is decided, a vote will occur.
n917=  timerCountVotes 1 180 countVotes
n918=}
n919=
n920=// alias to count elect votes if no majority is reached
n921=alias countVotes {
n922=  if (%mafiaRunning) {
n923=    var %tie 0
n924=    set %electMajority %honokaVotes
n925=    set %voteForName Blank
n926=
n927=    if (%electMajority <= %honokaVotes) {
n928=      if (%electMajority == %honokaVotes) {
n929=        inc %tie
n930=      }
n931=      else {
n932=        %electMajority == %honokaVotes
n933=        set %tie 0
n934=        set %voteForName %honoka
n935=      }
n936=    }
n937=
n938=    else if (%electMajority <= %rinVotes) {
n939=      if (%electMajority == %rinVotes) {
n940=        inc %tie
n941=      }
n942=      else {
n943=        %electMajority == %rinVotes
n944=        set %tie 0
n945=        set %voteForName %rin
n946=      }
n947=    }
n948=
n949=    if (%electMajority <= %kotoriVotes) {
n950=      if (%electMajority == %kotoriVotes) {
n951=        inc %tie
n952=      }
n953=      else {
n954=        %electMajority == %kotoriVotes
n955=        set %tie 0
n956=        set %voteForName %kotori
n957=      }
n958=    }
n959=
n960=    if (%electMajority <= %eliVotes) {
n961=      if (%electMajority == %eliVotes) {
n962=        inc %tie
n963=      }
n964=      else {
n965=        %electMajority == %eliVotes
n966=        set %tie 0
n967=        set %voteForName %eli
n968=      }
n969=    }
n970=
n971=    if (%electMajority <= %makiVotes) {
n972=      if (%electMajority == %makiVotes) {
n973=        inc %tie
n974=      }
n975=      else {
n976=        %electMajority == %makiVotes
n977=        set %tie 0
n978=        set %voteForName %maki
n979=      }
n980=    }
n981=
n982=    if (%electMajority <= %umiVotes) {
n983=      if (%electMajority == %umiVotes) {
n984=        inc %tie
n985=      }
n986=      else {
n987=        %electMajority == %umiVotes
n988=        set %tie 0
n989=        set %voteForName %umi
n990=      }
n991=    }
n992=
n993=    if (%electMajority <= %hanayoVotes) {
n994=      if (%electMajority == %hanayoVotes) {
n995=        inc %tie
n996=      }
n997=      else {
n998=        %electMajority == %hanayoVotes
n999=        set %tie 0
n1000=        set %voteForName %hanayo
n1001=      }
n1002=    }
n1003=
n1004=    if (%electMajority <= %nicoVotes) {
n1005=      if (%electMajority == %nicoVotes) {
n1006=        inc %tie
n1007=      }
n1008=      else {
n1009=        %electMajority == %nicoVotes
n1010=        set %tie 0
n1011=        set %voteForName %nico
n1012=      }
n1013=    }
n1014=
n1015=    if (%electMajority <= %nozomiVotes) {
n1016=      if (%electMajority == %nozomiVotes) {
n1017=        inc %tie
n1018=      }
n1019=      else {
n1020=        %electMajority == %nozomiVotes
n1021=        set %tie 0
n1022=        set %voteForName %nozomi
n1023=      }
n1024=    }
n1025=
n1026=    if (%tie == 0) {
n1027=      scid -at1 msg %mafiaChannel [Idol Mafia] The majority has decided to elect %voteForName to do the daily homework. %voteForName has 1 minute to convince you why you shouldn't vote for her. 
n1028=    }
n1029=
n1030=    else if (%honokaDecision == $null) {
n1031=      set %voteForName $gettok(%mafiaPlayers, $rand(1, $numtok(%mafiaPlayers, 44)), 44)
n1032=      scid -at1 msg %mafiaChannel [Idol Mafia] Since there was no consensus, in the confusion %voteForName was randomly elected to do the daily homework. %voteForName has 1 minute to convince you why you shouldn't vote for her.
n1033=    }
n1034=    else {
n1035=      set %voteForName %honokaDecision
n1036=      scid -at1 msg %mafiaChannel [Idol Mafia] Since there was no consensus, Honoka, as the Idol Leader, elected %voteForName to do the daily homework. %voteForName has 1 minute to convince you why you shouldn't vote for her.
n1037=    }
n1038=  }
n1039=  timerStartVoting 1 60 startVoting 
n1040=}
n1041=
n1042=// alias to start voting
n1043=alias startVoting {
n1044=  if (%mafiaRunning) {
n1045=    set %dayElect $false
n1046=    set %dayVoting $true
n1047=    set %mafiaPlayersVoted %mafiaPlayers
n1048=    if (%nozomiWashi != $null) {
n1049=      set %mafiaPlayersVoted $remtok(%mafiaPlayersVoted, %nozomiWashi, 44)
n1050=      scid -at1 msg %mafiaChannel [Idol Mafia] %nozomiWashi had a wild night with Nozomi, so they are in no condition to take part in today's voting!
n1051=    }    
n1052=    set %voteYes 0
n1053=    set %voteNo 0
n1054=    scid -at1 msg %mafiaChannel [Idol Mafia] It is now time to vote. "!vote yes" or "!vote no" to determine %voteForName $+ 's fate. You have 1 minute to decide, and you cannot change your vote afterwards.
n1055=    timerCountVotesYesNo 1 60 countVotesYesNo
n1056=  }
n1057=}
n1058=
n1059=// alias to remove name from mafiaPlayersVoted
n1060=alias mafiaPlayersVoted {
n1061=  if (%mafiaRunning) {
n1062=    if ($istok(%mafiaPlayersVoted, $1, 44)) {
n1063=      %mafiaPlayersVoted = $remtok(%mafiaPlayersVoted, $1, 44)
n1064=    }
n1065=  }
n1066=}
n1067=
n1068=// alias to remove name from mafiaPlayersElected
n1069=alias mafiaPlayersElected {
n1070=  if (%mafiaRunning) {
n1071=    if ($istok(%mafiaPlayersElected, $1, 44)) {
n1072=      %mafiaPlayersElected = $remtok(%mafiaPlayersElected, $1, 44)
n1073=    }
n1074=  }
n1075=}
n1076=
n1077=// alias to check if all players are done electing
n1078=alias checkAllElected {
n1079=  if (%mafiaRunning) {
n1080=    if (%mafiaPlayersElected != $null) {
n1081=      checkElectedMajority
n1082=    }
n1083=    else {
n1084=      set %dayElect $false
n1085=      timerCountVotes off
n1086=      countVotes
n1087=    }
n1088=  }
n1089=}
n1090=
n1091=// alias to check for majority elected
n1092=alias checkElectedMajority {
n1093=  if (%mafiaRunning) {
n1094=    if ((%nozomi != $null) && (%nozomiWashi == %honoka)) {
n1095=      var %majorityFraction = $numtok(%mafiaPlayers, 44)
n1096=    }
n1097=    else if (%honoka != $null) {
n1098=      var %majorityFraction = $calc(1 + $numtok(%mafiaPlayers, 44))
n1099=    }
n1100=    else {
n1101=      var %majorityFraction = $numtok(%mafiaPlayers, 44)
n1102=    }
n1103=
n1104=    if ($calc(%honokaVotes / %majorityFraction) > 0.5) {
n1105=      set %voteForName %honoka
n1106=      timerCountVotes off
n1107=      scid -at1 msg %mafiaChannel [Idol Mafia] The majority has decided to elect %voteForName to do the daily homework. %voteForName has 1 minute to convince you why you shouldn't vote for her. 
n1108=      timerStartVote 1 60 StartVoting
n1109=    }
n1110=    else if ($calc(%rinVotes / %majorityFraction) > 0.5) {
n1111=      set %voteForName%rin
n1112=      timerCountVotes off
n1113=      scid -at1 msg %mafiaChannel [Idol Mafia] The majority has decided to elect %voteForName to do the daily homework. %voteForName has 1 minute to convince you why you shouldn't vote for her. 
n1114=      timerStartVote 1 60 StartVoting
n1115=    }
n1116=    else if ($calc(%kotoriVotes / %majorityFraction) > 0.5) {
n1117=      set %voteForName %kotori
n1118=      timerCountVotes off
n1119=      scid -at1 msg %mafiaChannel [Idol Mafia] The majority has decided to elect %voteForName to do the daily homework. %voteForName has 1 minute to convince you why you shouldn't vote for her. 
n1120=      timerStartVote 1 60 StartVoting
n1121=    }
n1122=    else if ($calc(%eliVotes / %majorityFraction) > 0.5) {
n1123=      set %voteForName %eli
n1124=      timerCountVotes off
n1125=      scid -at1 msg %mafiaChannel [Idol Mafia] The majority has decided to elect %voteForName to do the daily homework. %voteForName has 1 minute to convince you why you shouldn't vote for her. 
n1126=      timerStartVote 1 60 StartVoting
n1127=    }
n1128=    else if ($calc(%makiVotes / %majorityFraction) > 0.5) {
n1129=      set %voteForName %maki
n1130=      timerCountVotes off
n1131=      scid -at1 msg %mafiaChannel [Idol Mafia] The majority has decided to elect %voteForName to do the daily homework. %voteForName has 1 minute to convince you why you shouldn't vote for her. 
n1132=      timerStartVote 1 60 StartVoting
n1133=    }
n1134=    else if ($calc(%umiVotes / %majorityFraction) > 0.5) {
n1135=      set %voteForName %umi
n1136=      timerCountVotes off
n1137=      scid -at1 msg %mafiaChannel [Idol Mafia] The majority has decided to elect %voteForName to do the daily homework. %voteForName has 1 minute to convince you why you shouldn't vote for her. 
n1138=      timerStartVote 1 60 StartVoting
n1139=    }
n1140=    else if ($calc(%hanayoVotes / %majorityFraction) > 0.5) {
n1141=      set %voteForName %hanayo
n1142=      timerCountVotes off
n1143=      scid -at1 msg %mafiaChannel [Idol Mafia] The majority has decided to elect %voteForName to do the daily homework. %voteForName has 1 minute to convince you why you shouldn't vote for her. 
n1144=      timerStartVote 1 60 StartVoting
n1145=    }
n1146=    else if ($calc(%nicoVotes / %majorityFraction) > 0.5) {
n1147=      set %voteForName %nico
n1148=      timerCountVotes off
n1149=      scid -at1 msg %mafiaChannel [Idol Mafia] The majority has decided to elect %voteForName to do the daily homework. %voteForName has 1 minute to convince you why you shouldn't vote for her. 
n1150=      timerStartVote 1 60 StartVoting
n1151=    }
n1152=    else if ($calc(%nozomiVotes / %majorityFraction) > 0.5) {
n1153=      set %voteForName %nozomi
n1154=      timerCountVotes off
n1155=      scid -at1 msg %mafiaChannel [Idol Mafia] The majority has decided to elect %voteForName to do the daily homework. %voteForName has 1 minute to convince you why you shouldn't vote for her. 
n1156=      timerStartVote 1 60 StartVoting
n1157=    }
n1158=    else {
n1159=      return
n1160=    }
n1161=  }
n1162=}
n1163=
n1164=// alias to check if all players are done electing
n1165=alias checkAllVoted {
n1166=  if (%mafiaRunning) {
n1167=    if (%mafiaPlayersVoted != $null) {
n1168=      checkVotedMajority
n1169=    }
n1170=    else {
n1171=      set %dayVote $false
n1172=      timerCountVotesYesNo off
n1173=      countVotesYesNo
n1174=    }
n1175=  }
n1176=}
n1177=
n1178=// alias for counting Yes No Votes
n1179=alias countVotesYesNo {
n1180=  if (%mafiaRunning) {
n1181=    if (%voteYes > %voteNo) {
n1182=      assignDailyHomework
n1183=    }
n1184=    else if (%voteYes < %voteNo) {
n1185=      scid -at1 msg %mafiaChannel [Idol Mafia] The majority came to their senses and didn't assign the daily homework to %voteForName $+ .
n1186=      timerNextNight 1 2 night
n1187=    }
n1188=    else {
n1189=      if (%honokaVote) {
n1190=        assignDailyHomework
n1191=      }
n1192=      else {
n1193=        scid -at1 msg %mafiaChannel [Idol Mafia] The majority came to their senses and didn't assign the daily homework to %voteForName $+ .
n1194=        timerNextNight 1 2 night
n1195=      }
n1196=    }
n1197=  }
n1198=}
n1199=
n1200=// alias to check for majority voted
n1201=alias checkVotedMajority {
n1202=  if (%mafiaRunning) {
n1203=
n1204=    if (%nozomiWashi == %honoka) {
n1205=      var %majorityFraction = $numtok(%mafiaPlayers, 44)
n1206=    }
n1207=
n1208=    else if (%honoka != $null) {
n1209=      var %majorityFraction = $calc(1 + $numtok(%mafiaPlayers, 44))
n1210=    }
n1211=
n1212=    else {
n1213=      var %majorityFraction = $numtok(%mafiaPlayers, 44)
n1214=    }
n1215=
n1216=    if ($calc(%voteYes / %majorityFraction) > 0.5) {
n1217=
n1218=      assignDailyHomework
n1219=
n1220=    }
n1221=
n1222=    else if ($calc(%voteNo / %majorityFraction) > 0.5) {
n1223=      scid -at1 msg %mafiaChannel [Idol Mafia] The majority came to their senses and didn't assign the daily homework to %voteForName $+ .
n1224=      timerNextNight 1 2 night
n1225=    }
n1226=
n1227=    else {
n1228=      return
n1229=    }
n1230=
n1231=  }
n1232=}
n1233=
n1234=// alias to assign daily homework
n1235=alias assignDailyHomework {
n1236=  if (%mafiaRunning) {
n1237=    if (%voteForName == %honoka) {
n1238=      scid -at1 msg %mafiaChannel [Idol Mafia] The majority decided to assign the daily homework to %voteForName $+ . She will work on it for the rest of the game!
n1239=      %mafiaPlayers = $remtok(%mafiaPlayers, %honoka, 44)
n1240=      unset %honoka
n1241=      checkEndGameCouncil
n1242=      timerNextNight 1 2 night
n1243=    }
n1244=
n1245=    else if (%voteForName == %rin) {
n1246=      scid -at1 msg %mafiaChannel [Idol Mafia] The majority decided to assign the daily homework to %voteForName $+ . She will work on it for the rest of the game!
n1247=      %mafiaPlayers = $remtok(%mafiaPlayers, %rin, 44)
n1248=      unset %rin
n1249=      checkEndGameCouncil
n1250=      timerNextNight 1 2 night
n1251=    }
n1252=
n1253=    else if (%voteForName == %kotori) {
n1254=      scid -at1 msg %mafiaChannel [Idol Mafia] The majority decided to assign the daily homework to %voteForName $+ . She will work on it for the rest of the game!
n1255=      %mafiaPlayers = $remtok(%mafiaPlayers, %kotori, 44)
n1256=      unset %kotori
n1257=      checkEndGameCouncil
n1258=      timerNextNight 1 2 night
n1259=    }
n1260=
n1261=    else if (%voteForName == %eli) {
n1262=      scid -at1 msg %mafiaChannel [Idol Mafia] The majority decided to assign the daily homework to %voteForName $+ . She will work on it for the rest of the game!
n1263=      %mafiaPlayers = $remtok(%mafiaPlayers, %eli, 44)
n1264=      unset %eli
n1265=      newPresidentNextInLine
n1266=      timerNextNight 1 2 night
n1267=    }
n1268=
n1269=    else if (%voteForName == %maki) {
n1270=      scid -at1 msg %mafiaChannel [Idol Mafia] The majority decided to assign the daily homework to %voteForName $+ . She will work on it for the rest of the game!
n1271=      %mafiaPlayers = $remtok(%mafiaPlayers, %maki, 44)
n1272=      unset %maki
n1273=      checkEndGameCouncil
n1274=      timerNextNight 1 2 night
n1275=    }
n1276=
n1277=    else if (%voteForName == %umi) {
n1278=      scid -at1 msg %mafiaChannel [Idol Mafia] The majority decided to assign the daily homework to %voteForName $+ . She will work on it for the rest of the game!
n1279=      %mafiaPlayers = $remtok(%mafiaPlayers, %umi, 44)
n1280=      unset %maki
n1281=      timerNextNight 1 2 night
n1282=    }
n1283=
n1284=    else if (%voteForName == %hanayo) {
n1285=      scid -at1 msg %mafiaChannel [Idol Mafia] The majority decided to assign the daily homework to %voteForName $+ . She will work on it for the rest of the game!
n1286=      %mafiaPlayers = $remtok(%mafiaPlayers, %hanayo, 44)
n1287=      unset %hanayo
n1288=      checkEndGameCouncil
n1289=      timerNextNight 1 2 night
n1290=    }
n1291=
n1292=    else if (%voteForName == %nico) {
n1293=      scid -at1 msg %mafiaChannel [Idol Mafia] The majority decided to assign the daily homework to %voteForName $+ . She will work on it for the rest of the game!
n1294=      %mafiaPlayers = $remtok(%mafiaPlayers, %nico, 44)
n1295=      unset %nico
n1296=      checkEndGameCouncil
n1297=      timerNextNight 1 2 night
n1298=    }
n1299=
n1300=    else if (%voteForName == %nozomi) {
n1301=      scid -at1 msg %mafiaChannel [Idol Mafia] The majority decided to assign the daily homework to %voteForName $+ . She will work on it for the rest of the game!
n1302=      %mafiaPlayers = $remtok(%mafiaPlayers, %nozomi, 44)
n1303=      unset %nozomi
n1304=      timerNextNight 1 2 night
n1305=    }
n1306=  }
n1307=}
n1308=
n1309=on *:TEXT:!vote &:%mafiaChannel:{
n1310=  if (%mafiaRunning) {
n1311=    if ($istok(%mafiaPlayersVoted, $nick, 44)) {
n1312=      if (%dayVoting) {
n1313=        if ((%nozomi != $null) && (%nozomiWashi == $nick)) {
n1314=          scid -at1 msg %mafiaChannel [Idol Mafia] $nick had a wild night with Nozomi, so they are in no condition to take part in today's voting!
n1315=        }
n1316=        else {
n1317=          if ($2 == yes) {
n1318=            inc %voteYes
n1319=            if ($nick == %honoka) {
n1320=              inc %voteYes
n1321=              set %honokaVote $true
n1322=            }
n1323=            scid -at1 timer 1 1 msg #_whitericebot_1448174506973 .w $nick [Idol Mafia] You have voted Yes for %voteForName to do the daily homework.
n1324=            mafiaPlayersVoted $nick
n1325=            checkAllVoted
n1326=          }
n1327=          else if ($2 == no) {
n1328=            inc %voteNo
n1329=            if ($nick == %honoka) {
n1330=              inc %voteNo
n1331=              set %honokaVote $false
n1332=            }
n1333=            scid -at1 timer 1 1 msg #_whitericebot_1448174506973 .w $nick [Idol Mafia] You have voted No for %voteForName to do the daily homework.
n1334=            mafiaPlayersVoted $nick
n1335=            checkAllVoted
n1336=          }
n1337=        }
n1338=      }
n1339=      else {
n1340=        scid -at1 timer 1 1 msg #_whitericebot_1448174506973 .w $nick [Idol Mafia] Now is not the time to vote!
n1341=      }
n1342=    }
n1343=    else {
n1344=      scid -at1 timer 1 1 msg #_whitericebot_1448174506973 .w $nick [Idol Mafia] Only players in the current game who haven't voted can vote.
n1345=    }
n1346=  }
n1347=}
n1348=
n1349=on *:TEXT:!elect &:%mafiaChannel:{
n1350=  if (%mafiaRunning) {
n1351=    if ($istok(%mafiaPlayersElected, $nick, 44)) {
n1352=      if (%dayElect) {
n1353=        if ((%nozomi != $null) && (%nozomiWashi == $nick)) {
n1354=          scid -at1 msg %mafiaChannel [Idol Mafia] %nozomiWashi had a wild night with Nozomi, so they are in no condition to take part in today's voting!
n1355=        }
n1356=        else {
n1357=          if ($nick == $2) {
n1358=            scid -at1 timer 1 1 msg #_whitericebot_1448174506973 .w $nick [Idol Mafia] You can't elect yourself! Pick someone else.
n1359=          }
n1360=          else if ($istok(%mafiaPlayers, $2, 44)) {
n1361=            if ($2 == %honoka) {
n1362=              inc %honokaVotes
n1363=            }
n1364=            else if ($2 == %rin) {
n1365=              inc %rinVotes 
n1366=              if ($nick == %honoka) {
n1367=                inc %rinVotes
n1368=                set %honokaDecision %rin
n1369=              }
n1370=            }
n1371=            else if ($2 == %kotori) {
n1372=              inc %kotoriVotes 
n1373=              if ($nick == %honoka) {
n1374=                inc %kotoriVotes
n1375=                set %honokaDecision %kotori
n1376=              }
n1377=            }
n1378=            else if ($2 == %eli) {
n1379=              inc %eliVotes 
n1380=              if ($nick == %honoka) {
n1381=                inc %eliVotes
n1382=                set %honokaDecision %eli
n1383=              }
n1384=            }
n1385=            else if ($2 == %maki) {
n1386=              inc %makiVotes 
n1387=              if ($nick == %honoka) {
n1388=                inc %makiVotes
n1389=                set %honokaDecision %maki
n1390=              }
n1391=            }
n1392=            else if ($2 == %umi) {
n1393=              inc %umiVotes 
n1394=              if ($nick == %honoka) {
n1395=                inc %umiVotes
n1396=                set %honokaDecision %umi
n1397=              }
n1398=            }
n1399=            else if ($2 == %hanayo) {
n1400=              inc %hanayoVotes 
n1401=              if ($nick == %honoka) {
n1402=                inc %hanayoVotes
n1403=                set %honokaDecision %hanayo
n1404=              }
n1405=            }
n1406=            else if ($2 == %nico) {
n1407=              inc %nicoVotes
n1408=              if ($nick == %honoka) {
n1409=                inc %nicoVotes
n1410=                set %honokaDecision %nico
n1411=              } 
n1412=            }
n1413=            else if ($2 == %nozomi) {
n1414=              inc %nozomiVotes
n1415=              if ($nick == %honoka) {
n1416=                inc %nozomiVotes
n1417=                set %honokaDecision %nozomi
n1418=              } 
n1419=            }
n1420=            scid -at1 timer 1 1 msg #_whitericebot_1448174506973 .w $nick [Idol Mafia] You have elected $2 for the daily homework.
n1421=
n1422=            mafiaPlayersElected $nick
n1423=            checkAllElected
n1424=          }
n1425=          else {
n1426=            scid -at1 timer 1 1 msg #_whitericebot_1448174506973 .w $nick [Idol Mafia] $2 is not in the current game. You can check who is currently in the game by whispering to me "!currentplayers".
n1427=          }
n1428=        }
n1429=
n1430=      }
n1431=      else {
n1432=        scid -at1 timer 1 1 msg #_whitericebot_1448174506973 .w $nick [Idol Mafia] Now is not the time to elect!
n1433=      }
n1434=    }
n1435=    else {
n1436=      scid -at1 timer 1 1 msg #_whitericebot_1448174506973 .w $nick [Idol Mafia] Only players in the current game who haven't elected can elect.
n1437=    }
n1438=  }
n1439=}
n1440=
n1441=
n1442=// alias to check for one-time character actions
n1443=alias checkActions {
n1444=  if (%mafiaRunning) {
n1445=    if (%nicoNi1 != $null) {
n1446=      nicoNicoNi
n1447=    }
n1448=    if (%honokaHonk) {
n1449=      set %honokaAction $false
n1450=    }
n1451=    if (%rinNyaavigate) {
n1452=      set %rinAction $false
n1453=    }
n1454=    if (%umiShoot != $null) {
n1455=      set %umiAction $false
n1456=    }
n1457=  }
n1458=}
n1459=
n1460=// alias for !niconi
n1461=alias nicoNicoNi {
n1462=  if (%mafiaRunning) {
n1463=    if (%nicoNi1 == %honoka) {
n1464=      if (%honokaAction) {
n1465=        set %honokaHonk %nicoNi2
n1466=        scid -at1 timerNicoHonoka 1 2 msg #_whitericebot_1448174506973 .w %honoka [Idol Mafia] But Nico seduced you into horning %nicoNi2 instead!
n1467=        set %honokaAction $false
n1468=      }
n1469=      else {
n1470=        scid -at1 timerNicoHonoka 1 2 msg #_whitericebot_1448174506973 .w %nico [Idol Mafia] But %honoka used their one-time command already!
n1471=
n1472=      }
n1473=    }
n1474=    else if (%nicoNi1 == %rin) {
n1475=      if (%rinAction) {
n1476=        set %nicoNyaavigate $true
n1477=        scid -at1 timerNicoRin 1 2 msg #_whitericebot_1448174506973 .w %rin [Idol Mafia] But Nico seduced your cat instead!
n1478=        set %rinAction $false
n1479=      }
n1480=      else {
n1481=        scid -at1 timerNicoRin 1 2 msg #_whitericebot_1448174506973 .w %nico [Idol Mafia] But %rin used their one-time command already!
n1482=      }
n1483=    }
n1484=    else if (%nicoNi1 == %kotori) {
n1485=      set %kotoriFollow %nicoNi2
n1486=      scid -at1 timerNicoKotori 1 2 msg #_whitericebot_1448174506973 .w %kotori [Idol Mafia] But Nico seduced you into following %nicoNi2 instead!
n1487=    }
n1488=    else if (%nicoNi1 == %eli) {
n1489=      set %eliAssign %nicoNi2
n1490=      scid -at1 timerNicoEli 1 2 msg #_whitericebot_1448174506973 .w %eli [Idol Mafia] But Nico seduced you into assigning homework to %nicoNi2 instead!
n1491=    }
n1492=    else if (%nicoNi1 == %maki) {
n1493=      set %makiHelp %nicoNi2
n1494=      scid -at1 timerNicoMaki 1 2 msg #_whitericebot_1448174506973 .w %maki [Idol Mafia] But Nico seduced you into helping %nicoNi2 instead!
n1495=
n1496=    }
n1497=    else if (%niconi1 == %umi) {
n1498=      if (%umiAction) {
n1499=        set %umiShoot %nicoNi2
n1500=        scid -at1 timerNicoUmi 1 2 msg #_whitericebot_1448174506973 .w %umi [Idol Mafia] But Nico seduced you into shooting %nicoNi2 instead!
n1501=        set %umiAction $false
n1502=      }
n1503=      else {
n1504=        scid -at1 timerNicoUmi 1 2 msg #_whitericebot_1448174506973 .w %nico [Idol Mafia] But %umi used their one-time command already!
n1505=      }
n1506=    }
n1507=    else if (%nicoNi1 == %hanayo) {
n1508=      set %hanayoInspect %nicoNi2
n1509=      scid -at1 timerNicoKotori 1 2 msg #_whitericebot_1448174506973 .w %hanayo [Idol Mafia] But Nico seduced you into inspecting %nicoNi2 instead!
n1510=      set %nicoInspect $true
n1511=    }
n1512=    else if (%nicoNi1 == %nozomi) {
n1513=      set %nozomiWashi %nicoNi2
n1514=      scid -at1 timerNicoKotori 1 2 msg #_whitericebot_1448174506973 .w %hanayo [Idol Mafia] But Nico seduced you to Washi Washi %nicoNi2 instead!
n1515=    }
n1516=    set %nicoAction $false
n1517=  }
n1518=}
n1519=
n1520=// alias for current players
n1521=alias currentPlayers {
n1522=  if (%mafiaRunning) {
n1523=    scid -at1 timerCurrentPlayers 1 1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] The current players are: %mafiaPlayers
n1524=    if (%nightAction) {
n1525=      timerCurrentPlayers2 1 2 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] Currently waiting for %mafiaPlayersMoved to make a move.
n1526=    }
n1527=    else if (%dayElect) {
n1528=      timerCurrentPlayers2 1 2 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] Currently waiting for %mafiaPlayersElected to elect.
n1529=    }
n1530=    else if (%dayVoting) {
n1531=      timerCurrentPlayers2 1 2 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] Currently waiting for %mafiaPlayersVoted to vote.
n1532=    }
n1533=  }
n1534=}
n1535=
n1536=// alias for mafia help 
n1537=alias mafiaHelp {
n1538=  if (%mafiaRunning) {
n1539=    if ($1 == %honoka) {
n1540=      timerMafiaHelpHonoka 1 1 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] You are Honoka, the leader of Team Idol. You win if you are still in the game when all members of the Student Council are out of the game.
n1541=      timerMafiaHelpHonoka2 1 2 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] You have a one-time use ability "!honk <username>"; otherwise you "!idle" to progress the game state. If you use it, and you are still in the game during the daytime, the player that you targeted will automatically be elected for the daily homework wihtout requiring a majority vote.
n1542=      timerMafiaHelpHonoka3 1 3 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] During the daytime, your "!elect" and "!vote" are also worth double. In the event of a tie, your nomination and vote will take precedent.
n1543=    }
n1544=    else if ($1 == %rin) {
n1545=      timerMafiaHelpRin 1 1 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] You are Rin, the Neko Idol and a member of Team Idol. You win if you are still in the game when all members of the Student Council are out of the game.
n1546=      timerMafiaHelpRin2 1 2 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] You have a one-time use ability "!nyaavigate"; otherwise you "!idle" to progress the game state. If you use it, you will evade all actions during the daytime and you will discover the identity of anyone that targeted you.
n1547=
n1548=    }
n1549=    else if ($1 == %kotori) {
n1550=      timerMafiaHelpKotori 1 1 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] You are Kotori, the Cop and a member of Team Idol. You win if you are still in the game when all members of Team Student Council are out of the game.
n1551=      timerMafiaHelpKotori2 1 2 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] You must "!follow <username> each night. If you follow Eli and they assign homework that night, you will catch her during the day and remove her from the game.
n1552=      timerMafiaHelpKotori3 1 3 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] In a 7+ player game, Hanayo will know your identity when the game starts. Take caution, though, since other players could lie to you that they are Hanayo as well.
n1553=    }
n1554=    else if ($1 == %eli) {
n1555=      timerMafiaHelpEli 1 1 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] You are %presidentName $+ , the President of Team Student Council. You win if there is still a Student Council member in the game when all members of Team Idol are out of the game.
n1556=      timerMafiaHelpEli2 1 2 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] You can "!assign <username> each night, or "!idle" to assign nobody homework. Whoever you target with "!assign" will be removed from the game unless Maki targets the same player that night.
n1557=      timerMafiaHelpEli3 1 3 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] If Kotori follows you and you !assign homework, she will remove you from the game! In a 6+ player game, Umi or Nozomi will take your place as President if they are still in the game.
n1558=    }
n1559=    else if ($1 == %maki) {
n1560=      timerMafiaHelpMaki 1 1 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] You are Maki, the Tutor Doctor and a member of Team Idol. You win if you are still in the game when all members of Team Student Council are out of the game.
n1561=      timerMafiaHelpMaki2 1 2 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] You must "!help <username> each night. You can't target the same player twice. You can also target yourself. If your target is also targeted by "!assign" or "!shoot" in the same night, you will save that target from being removed from the game.
n1562=      timerMafiaHelpMaki3 1 3 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] In a 7+ player game, Hanayo will know your identity when the game starts. However, if another player whispers to you and tells you they are Hanayo, they might be lying, so use your best judgment.
n1563=    }
n1564=    else if ($1 == %umi) {
n1565=      timerMafiaHelpUmi 1 1 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] You are Umi, the Archer of Team Student Council. You win if there is still a Student Council member in the game when all members of Team Idol are out of the game.
n1566=      timerMafiaHelpUmi2 1 2 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] You have a one-time use ability "!shoot <username>"; otherwise you "!idle" to progress the game state. If you use it, you will remove the targeted player from the game if Maki was not there to help.
n1567=      timerMafiaHelpUmi3 1 3 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] Since your Love Arrow Shoot is a long-ranged attack, Kotori cannot catch you even if she was following the same person, so don't hesitate to use it when the time is right.
n1568=      timerMafiaHelpUmi4 1 4 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] If Eli is removed from the game, and Nozomi isn't in the game, you will become the new President. You lose your "!shoot" ability but gain "!assign" when this happens. If you "accidently" shoot Eli, you will also become the new President.
n1569=      timerMafiaHelpUmi5 1 4 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] Finally, Eli will know your identity when the game starts. However, if another player whispers to you and tells you they are Eli, they might be lying, so use your best judgment.
n1570=    }
n1571=    else if ($1 == %hanayo) {
n1572=      timerMafiaHelpHanayo 1 1 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] You are Hanayo, the Detective and a member of Team Idol. You win if you are still in the game when all members of Team Student Council are out of the game.
n1573=      timerMafiaHelpHanayo2 1 2 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] You must "!inspect <username> each night. The identity of the person you targeted will be whispered to you the following day.
n1574=      timerMafiaHelpHanayo3 1 3 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] You found out the identity of Kotori at the beginning of the game. You might want to work together, but it is up to Kotori if they actually believe who you say you are.
n1575=    }
n1576=    else if ($1 == %nico) {
n1577=      timerMafiaHelpNico 1 1 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] You are Nico, the Universe's Number 1 Idol and a member of Team Idol. You win if you are still in the game when all members of Team Student Council are out of the game.
n1578=      timerMafiaHelpNico2 1 2 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] You have a one-time use ability "!niconi <username> <target>"; otherwise you "!idle" to progress the game state. If you use it, then you will force <username> to change their target to <target>. For example, you could change Maki's target to yourself, or have Eli assign homework to Umi if you know the identity of those players.
n1579=      timerMafiaHelpNico3 1 3 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] However, if <username> only has a one-time use ability and they already used it, your !niconi will be wasted. 
n1580=      timerMafiaHelpNico4 1 4 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] Finally, in the niche situation you picked Rin for <username>, you will steal her !nyaavigate ability, but it will only activate if <target> targeted you. For example, if you !niconi Rin Eli, you will evade Eli's assign, but you can still be targeted by Honoka's !honk.  
n1581=    }
n1582=    else if ($1 == %nozomi) {
n1583=      timerMafiaHelpNozomi 1 1 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] You are Nozomi, the Vice President of Team Student Council. You win if there is still a Student Council member in the game when all members of Team Idol are out of the game.
n1584=      timerMafiaHelpNozomi2 1 2 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] You must "!washi <username>" each night, and you can't target the same <username> twice in a row. Your target will be unable to participate in the "!elect" and "!vote" part of the day. 
n1585=      timerMafiaHelpNozomi3 1 3 scid -at1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] If %presidentName is removed from the game, you will become the new President. You lose your "!washi" ability but gain "!assign" when this happens. 
n1586=    }
n1587=    else {
n1588=      scid -at1 timerMafiaHelp 1 1 msg #_whitericebot_1448174506973 .w $1 [Idol Mafia] You don't have a role in the current game.
n1589=    }
n1590=  }
n1591=}
n1592=
n1593=// alias to remove name from mafiaPlayersMoved
n1594=alias mafiaPlayersMoved {
n1595=  if (%mafiaRunning) {
n1596=    if ($istok(%mafiaPlayersMoved, $1, 44)) {
n1597=      %mafiaPlayersMoved = $remtok(%mafiaPlayersMoved, $1, 44)
n1598=    }
n1599=  }
n1600=}
n1601=
n1602=// alias for Honoka
n1603=alias mafiaHonoka {
n1604=  if (%mafiaRunning) {
n1605=    if (%nightAction) {
n1606=      if ($1 == !honk) {
n1607=        if (%honokaAction) {
n1608=          if ($2 = %honoka) {
n1609=            scid -at1 timerHonokaAction 1 1 msg #_whitericebot_1448174506973 .w %honoka [Idol Mafia] You can't Honk yourself! Pick someone else!
n1610=          }
n1611=          else {
n1612=            set %honokaHonk $2
n1613=            scid -at1 timerHonokaAction 1 1 msg #_whitericebot_1448174506973 .w %honoka [Idol Mafia] You decide to use your one !honk for the game on %honokaHonk $+ ! If you change your mind, whisper to me "!idle".
n1614=            mafiaPlayersMoved %honoka
n1615=            checkAllDone
n1616=          }
n1617=        }
n1618=        else {
n1619=          scid -at1 timerHonokaAction msg #_whitericebot_1448174506973 .w %honoka [Idol Mafia] You have already used your !honk this game!
n1620=        }
n1621=      }
n1622=      else if ($1 == !idle) {
n1623=        unset %honokaHonk
n1624=        scid -at1 timerHonokaAction 1 1 msg #_whitericebot_1448174506973 .w %honoka [Idol Mafia] You choose to do nothing tonight.
n1625=        mafiaPlayersMoved %honoka
n1626=        checkAllDone
n1627=      }
n1628=      else {
n1629=        scid -at1 timerHonokaAction 1 1 msg #_whitericebot_1448174506973 .w %honoka [Idol Mafia] Invalid command. Your command is !honk <username> without the <> or "!idle". If you're not sure what to do, whisper to me "!mafiahelp".
n1630=      }
n1631=    }
n1632=  }
n1633=}
n1634=
n1635=// alias for Rin
n1636=alias mafiaRin {
n1637=  if (%mafiaRunning) {
n1638=    if (%nightAction) {
n1639=      if ($1 == !nyaavigate) {
n1640=        if (%rinAction) {
n1641=          set %rinNyaavigate $true
n1642=          scid -at1 timerRinAction 1 1 msg #_whitericebot_1448174506973 .w %rin [Idol Mafia] You decide to use your one !nyaavigate for the game! If you change your mind, whisper to me "!idle".
n1643=          mafiaPlayersMoved %rin
n1644=          checkAllDone
n1645=        }
n1646=        else {
n1647=          scid -at1 timerRinAction 1 1 msg #_whitericebot_1448174506973 .w %rin [Idol Mafia] You have already used your !nyaavigate this game!
n1648=        }
n1649=      }
n1650=      else if ($1 == !idle) {
n1651=        set %rinNyaavigate $false
n1652=        scid -at1 timerRinAction 1 1 msg #_whitericebot_1448174506973 .w %rin [Idol Mafia] You choose to do nothing tonight.
n1653=        mafiaPlayersMoved %rin
n1654=        checkAllDone
n1655=      }
n1656=      else {
n1657=        scid -at1 timerRinAction 1 1 msg #_whitericebot_1448174506973 .w %rin [Idol Mafia] Invalid command. Your command is "!nyaavigate" or "!idle".
n1658=      }
n1659=    }
n1660=    else {
n1661=      scid -at1 timerRinAction 1 1 msg #_whitericebot_1448174506973 .w %rin [Idol Mafia] It is currently not night time.
n1662=    }
n1663=  }
n1664=}
n1665=
n1666=// alias for Kotori
n1667=alias mafiaKotori {
n1668=  if (%mafiaRunning) {
n1669=    if (%nightAction) {
n1670=      if ($1 == !follow) {
n1671=        if ($2 == %kotori) {
n1672=          scid -at1 timerKotoriAction 1 1 msg #_whitericebot_1448174506973 .w %kotori [Idol Mafia] You can't follow yourself! Pick someone else!
n1673=        }
n1674=        else if ($istok(%mafiaPlayers, $2, 44)) {
n1675=          set %kotoriFollow $2
n1676=          scid -at1 timerKotoriAction 1 1 msg #_whitericebot_1448174506973 .w %kotori [Idol Mafia] You choose to follow $2 tonight. If you change your mind, whisper to me your new target.
n1677=          mafiaPlayersMoved %kotori
n1678=          checkAllDone
n1679=        }
n1680=        else {
n1681=          scid -at1 timerKotoriAction 1 1 msg #_whitericebot_1448174506973 .w %kotori [Idol Mafia] $2 is not in the current game. You can check who is currently in the game by whispering to me "!currentplayers".
n1682=        }
n1683=      }
n1684=      else {
n1685=        scid -at1 timerKotoriAction 1 1 msg #_whitericebot_1448174506973 .w %kotori [Idol Mafia] Invalid command. Your command is "!follow <username>" without the <>. If you're not sure what to do, whisper to me "!mafiahelp".
n1686=      }
n1687=    }
n1688=    else {
n1689=      scid -at1 timerKotoriAction 1 1 msg #_whitericebot_1448174506973 .w %kotori [Idol Mafia] It is currently not night time.
n1690=    }
n1691=  }
n1692=}
n1693=
n1694=// alias for Eli
n1695=alias mafiaEli {
n1696=  if (%mafiaRunning) {
n1697=    if (%nightAction == $true) {
n1698=      if ($1 == !assign) {
n1699=        if ($2 == %eli) {
n1700=          scid -at1 timerEliAction 1 1 msg #_whitericebot_1448174506973 .w %eli [Idol Mafia] You can't assign yourself homework! Pick someone else!
n1701=        }
n1702=        else if ($istok(%mafiaPlayers, $2, 44)) {
n1703=          set %eliAssign $2
n1704=          scid -at1 timerEliAction 1 1 msg #_whitericebot_1448174506973 .w %eli [Idol Mafia] You choose to assign $2 homework tonight. If you change your mind, whisper to me your new target.
n1705=          mafiaPlayersMoved %eli
n1706=          checkAllDone
n1707=        }
n1708=        else {
n1709=          scid -at1 timerEliAction 1 1 msg #_whitericebot_1448174506973 .w %eli [Idol Mafia] $2 is not in the current game. You can check who is currently in the game by whispering to me "!currentplayers".
n1710=        }
n1711=      }
n1712=      else if ($1 == !idle) {
n1713=        unset %eliAssign
n1714=        scid -at1 timerEliAction 1 1 msg #_whitericebot_1448174506973 .w %eli [Idol Mafia] You feel generous tonight and assign nobody homework. If you change your mind, whisper to me your new target.
n1715=        mafiaPlayersMoved %eli
n1716=        checkAllDone
n1717=      }
n1718=      else {
n1719=        scid -at1 timerEliAction 1 1 msg #_whitericebot_1448174506973 .w %eli [Idol Mafia] Invalid command. Your command is "!assign <username>" without the <> or "!idle" if you don't want to assign any homework tonight. If you're not sure what to do, whisper to me "!mafiahelp".
n1720=      }
n1721=    }
n1722=    else {
n1723=      scid -at1 timerEliAction 1 1 msg #_whitericebot_1448174506973 .w %eli [Idol Mafia] It is currently not night time.
n1724=    }
n1725=  }
n1726=}
n1727=
n1728=// alias for Maki
n1729=alias mafiaMaki {
n1730=  if (%mafiaRunning) {
n1731=    if (%nightAction == $true) {
n1732=      if ($1 == !help) {
n1733=        if ($2 == %makiLastHelped) {
n1734=          scid -at1 timerMakiAction 1 1 msg #_whitericebot_1448174506973 .w %maki [Idol Mafia] You can't help the same person twice in a row! Pick someone else.
n1735=        }
n1736=        else if ($istok(%mafiaPlayers, $2, 44)) {
n1737=          set %makiHelp $2
n1738=          if (%makiHelp == %maki) {
n1739=            scid -at1 timerMakiAction 1 1 msg #_whitericebot_1448174506973 .w %maki [Idol Mafia] You choose to study by yourself tonight. If you change your mind, whisper to me your new target.
n1740=          }
n1741=          else {
n1742=            scid -at1 timerMakiAction 1 1 msg #_whitericebot_1448174506973 .w %maki [Idol Mafia] You choose to help $2 with their homework tonight. If you change your mind, whisper to me your new target.
n1743=          }
n1744=          mafiaPlayersMoved %maki
n1745=          checkAllDone
n1746=        }
n1747=        else {
n1748=          scid -at1 timerMakiAction 1 1 msg #_whitericebot_1448174506973 .w %maki [Idol Mafia] $2 is not in the current game. You can check who is currently in the game by whispering to me "!currentplayers".
n1749=        }
n1750=      }
n1751=      else {
n1752=        scid -at1 timerMakiAction 1 1 msg #_whitericebot_1448174506973 .w %maki [Idol Mafia] Invalid command. Your command is "!help <username>" without the <>. If you're not sure what to do, whisper to me "!mafiahelp".
n1753=      }
n1754=    }
n1755=    else {
n1756=      scid -at1 timerMakiAction 1 1 msg #_whitericebot_1448174506973 .w %maki [Idol Mafia] It is currently not night time.
n1757=    }
n1758=  }
n1759=}
n1760=
n1761=// alias for Umi
n1762=alias mafiaUmi {
n1763=  if (%mafiaRunning) {
n1764=    if (%nightAction == $true) {
n1765=      if ($1 == !shoot) {
n1766=        if (%umiAction) {
n1767=          if ($2 == %umi) {
n1768=            scid -at1 timerUmiAction 1 1 msg #_whitericebot_1448174506973 .w %umi [Idol Mafia] You can't shoot yourself! Pick someone else!
n1769=          }
n1770=          else {
n1771=            if ($istok(%mafiaPlayers, $2, 44)) {
n1772=              set %umiShoot $2
n1773=              scid -at1 timerUmiAction 1 1 msg #_whitericebot_1448174506973 .w %umi [Idol Mafia] You decide to use your one !shoot for the game on %umiShoot $+ ! If you change your mind, whisper to me "!idle".
n1774=              mafiaPlayersMoved %umi
n1775=              checkAllDone
n1776=            }
n1777=            else {
n1778=              scid -at1 timerUmiAction 1 1 msg #_whitericebot_1448174506973 .w %umi [Idol Mafia] $2 is not in the current game. You can check who is currently in the game by whispering to me "!currentplayers". 
n1779=            }
n1780=          }
n1781=        }
n1782=        else {
n1783=          scid -at1 timerUmiAction 1 1 msg #_whitericebot_1448174506973 .w %umi [Idol Mafia] You have already used your !shoot this game!
n1784=        }
n1785=      }
n1786=      else if ($1 == !idle) {
n1787=        unset %umiShoot
n1788=        scid -at1 timerUmiAction 1 1 msg #_whitericebot_1448174506973 .w %umi [Idol Mafia] You choose to do nothing tonight.
n1789=        mafiaPlayersMoved %umi
n1790=        checkAllDone
n1791=      }
n1792=      else {
n1793=        scid -at1 timerUmiAction 1 1 msg #_whitericebot_1448174506973 .w %umi [Idol Mafia] Invalid command. Your command is "!shoot <username>" without the <>, or "!idle". If you're not sure what to do, whisper to me "!mafiahelp".
n1794=      }
n1795=    }
n1796=    else {
n1797=      scid -at1 timerUmiAction 1 1 msg #_whitericebot_1448174506973 .w %umi [Idol Mafia] It is currently not night time.
n1798=    }
n1799=  }
n1800=}
n1801=
n1802=// alias for Hanayo
n1803=alias mafiaHanayo {
n1804=  if (%mafiaRunning) {
n1805=    if (%nightAction == $true) {
n1806=      if ($1 == !inspect) {
n1807=        if ($2 == %hanayo) {
n1808=          scid -at1 timerHanayoAction 1 1 msg #_whitericebot_1448174506973 .w %hanayo [Idol Mafia] You can't inspect yourself! Pick someone else!
n1809=        }
n1810=        else if ($istok(%mafiaPlayers, $2, 44)) {
n1811=          set %hanayoInspect $2
n1812=          scid -at1 timer 1 1 msg #_whitericebot_1448174506973 .w %hanayo [Idol Mafia] You choose to inspect $2 tonight. If you change your mind, whisper to me your new target.
n1813=          mafiaPlayersMoved %hanayo
n1814=          checkAllDone 
n1815=        }
n1816=        else {
n1817=          scid -at1 timerHanayoAction 1 1 msg #_whitericebot_1448174506973 .w %hanayo [Idol Mafia] $2 is not in the current game. You can check who is currently in the game by whispering to me "!currentplayers".
n1818=        }
n1819=      }
n1820=      else {
n1821=        scid -at1 timerHanayoAction 1 1 msg #_whitericebot_1448174506973 .w %hanayo [Idol Mafia] Invalid command. Your command is "!inspect <username>" without the <>. If you're not sure what to do, whisper to me "!mafiahelp".
n1822=      }
n1823=    }
n1824=    else {
n1825=      scid -at1 timerHanayoAction 1 1 msg #_whitericebot_1448174506973 .w %hanayo [Idol Mafia] It is currently not night time.
n1826=    }
n1827=  }
n1828=}
n1829=
n1830=// alias for Nico
n1831=alias mafiaNico {
n1832=  if (%mafiaRunning) {
n1833=    if (%nightAction) {
n1834=      if ($1 == !niconi) {
n1835=        if (%nicoAction) {
n1836=          if ($2 == %nico) {
n1837=            scid -at1 timerNicoAction 1 1 msg #_whitericebot_1448174506973 .w %nico [Idol Mafia] You can't pick yourself for <username>. Pick someone else!
n1838=          }
n1839=          else if ($2 == $3) {
n1840=            scid -at1 timerNicoAction 1 1 msg #_whitericebot_1448174506973 .w %nico [Idol Mafia] You can't pick the same player for <username> and <target>!
n1841=          }
n1842=          else if (($istok(%mafiaPlayers, $2, 44)) && (($istok(%mafiaPlayers, $3, 44)))) {
n1843=            set %nicoNi1 $2
n1844=            set %nicoNi2 $3
n1845=            scid -at1 timerNicoAction 1 1 msg #_whitericebot_1448174506973 .w %nico [Idol Mafia] You decide to use your one !niconi for the game! If you change your mind, whisper to me "!idle".
n1846=            scid -at1 timerNicoAction2 1 2 msg #_whitericebot_1448174506973 .w %nico [Idol Mafia] You will Nico Ni $2 and force them to use their action on $3 $+ !
n1847=            mafiaPlayersMoved %nico
n1848=            checkAllDone
n1849=          }
n1850=          else {
n1851=            msg #_whitericebot_1448174506973 .w %nico [Idol Mafia] You have already used your !niconi this game!
n1852=          }
n1853=        }
n1854=      }
n1855=      else if ($1 == !idle) {
n1856=        unset %nicoNi1
n1857=        unset %nicoNi2
n1858=        scid -at1 timerNicoAction 1 1 msg #_whitericebot_1448174506973 .w %nico [Idol Mafia] You choose to do nothing tonight.
n1859=        mafiaPlayersMoved %nico
n1860=        checkAllDone
n1861=      }
n1862=      else {
n1863=        scid -at1 timerNicoAction 1 1 msg #_whitericebot_1448174506973 .w %nico [Idol Mafia] Invalid command. Your command is "!niconi <username> <target>" without the <>, or "!idle". If you're not sure what to do, whisper to me "!mafiahelp".
n1864=      }
n1865=    }
n1866=    else {
n1867=      scid -at1 timerNicoAction 1 1 msg #_whitericebot_1448174506973 .w %nico [Idol Mafia] It is currently not night time.
n1868=    }
n1869=  }
n1870=}
n1871=
n1872=// alias for Nozomi
n1873=alias mafiaNozomi {
n1874=  if (%mafiaRunning) {
n1875=    if (%nightAction) {
n1876=      if ($1 == !washi) {
n1877=        if ($2 == %nozomi) {
n1878=          scid -at1 timer 1 1 msg #_whitericebot_1448174506973 .w %nozomi [Idol Mafia] You can Washi Washi yourself on your own time, but for now pick someone else ;)
n1879=        }
n1880=        else if ($istok(%mafiaPlayers, $2, 44)) {
n1881=          set %nozomiWashi $2
n1882=          scid -at1 timer 1 1 msg #_whitericebot_1448174506973 .w %nozomi [Idol Mafia] You choose to Washi Washi $2 tonight. If you change your mind, whisper to me your new target.
n1883=          mafiaPlayersMoved %nozomi
n1884=          checkAllDone
n1885=        }
n1886=        else {
n1887=          scid -at1 timer 1 1 msg #_whitericebot_1448174506973 .w %nozomi [Idol Mafia] $2 is not in the current game. You can check who is currently in the game by whispering to me "!currentplayers".
n1888=        }
n1889=      }
n1890=      else {
n1891=        scid -at1 timer 1 1 msg #_whitericebot_1448174506973 .w %nozomi [Idol Mafia] Invalid command. Your command is "!washi <username>" without the <>. If you're not sure what to do, whisper to me "!mafiahelp".
n1892=      }
n1893=    }
n1894=    else {
n1895=      scid -at1 timer 1 1 msg #_whitericebot_1448174506973 .w %nozomi [Idol Mafia] It is currently not night time.
n1896=    }
n1897=  }
n1898=}

[variables]
n0=%mafiaChannel #umidah
n1=%mafiaAdmin umidah
n2=%mafiaRunning $false
n3=%mafiaJoinTime $false
n4=%mafiaRegPlayers
n5=%mafiaStartMessage $false
n6=%mafiaTimer $false
n7=%mafiaPlayers
n8=%honokaVotes 0
n9=%rinVotes 0
n10=%kotoriVotes 0
n11=%eliVotes 0
n12=%makiVotes 0
n13=%umiVotes 0
n14=%hanayoVotes 0
n15=%nicoVotes 0
n16=%nozomiVotes 0
n17=%electMajority 0
n18=%voteYes 0
n19=%voteNo 0
n20=%honokaVote $true
n21=%dailybox 4
n22=%dailyboxname Printemps Box
n23=%isPlaying $false
n24=%scoutstock 0
n25=%voucherstock 0
n26=%dailyscoutnumber 2
n27=%currentlyScouting $false
n28=%currentlyTapping $false
n29=%nyanpasu 286
n30=%trapsetter 0
n31=%traprandom 0
n32=%trap 0
n33=%vouchernumber 50
n34=%voucherpresent 1
